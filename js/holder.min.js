/*

Holder - client side image placeholders
Version 2.6.0+51ebp
Â© 2015 Ivan Malopinsky - http://imsky.co

Site:     http://holderjs.com
Issues:   https://github.com/imsky/holder/issues
License:  http://opensource.org/licenses/MIT

*/
(function webpackUniversalModuleDefinition(A,B){if(typeof exports==="object"&&typeof module==="object"){module.exports=B()}else{if(typeof define==="function"&&define.amd){define(B)}else{if(typeof exports==="object"){exports["Holder"]=B()}else{A["Holder"]=B()}}}})(this,function(){return(function(C){var A={};function B(E){if(A[E]){return A[E].exports}var D=A[E]={exports:{},id:E,loaded:false};C[E].call(D.exports,D,D.exports,B);D.loaded=true;return D.exports}B.m=C;B.c=A;B.p="";return B(0)})([function(A,B,C){(function(R){var o=C(1);var J=C(2);var U=C(3);var P=U.extend;var h=U.cssProps;var D=U.encodeHtmlEntity;var X=U.decodeHtmlEntity;var I=U.imageExists;var p=U.getNodeArray;var T=U.dimensionCheck;var n="http://www.w3.org/2000/svg";var m=8;var H="2.6.0";var j="\nCreated with Holder.js "+H+".\nLearn more at http://holderjs.com\n(c) 2012-2015 Ivan Malopinsky - http://imsky.co\n";var N={version:H,addTheme:function(q,r){q!=null&&r!=null&&(Q.settings.themes[q]=r);delete Q.vars.cache.themeKeys;return this},addImage:function(w,r){var u=document.querySelectorAll(r);if(u.length){for(var t=0,q=u.length;t<q;t++){var s=k("img");var v={};v[Q.vars.dataAttr]=w;S(s,v);u[t].appendChild(s)}}return this},setResizeUpdate:function(r,q){if(r.holderData){r.holderData.resizeUpdate=!!q;if(r.holderData.resizeUpdate){g(r)}}},run:function(r){r=r||{};var Aa={};var w=P(Q.settings,r);Q.vars.preempted=true;Q.vars.dataAttr=w.dataAttr||Q.vars.dataAttr;Aa.renderer=w.renderer?w.renderer:Q.setup.renderer;if(Q.setup.renderers.join(",").indexOf(Aa.renderer)===-1){Aa.renderer=Q.setup.supportsSVG?"svg":(Q.setup.supportsCanvas?"canvas":"html")}var An=p(w.images);var Ao=p(w.bgnodes);var y=p(w.stylenodes);var Ak=p(w.objects);Aa.stylesheets=[];Aa.svgXMLStylesheet=true;Aa.noFontFallback=w.noFontFallback?w.noFontFallback:false;for(var Ac=0;Ac<y.length;Ac++){var Ad=y[Ac];if(Ad.attributes.rel&&Ad.attributes.href&&Ad.attributes.rel.value=="stylesheet"){var z=Ad.attributes.href.value;var q=k("a");q.href=z;var Al=q.protocol+"//"+q.host+q.pathname+q.search;Aa.stylesheets.push(Al)}}for(Ac=0;Ac<Ao.length;Ac++){if(!R.getComputedStyle){continue}var At=R.getComputedStyle(Ao[Ac],null).getPropertyValue("background-image");var Af=Ao[Ac].getAttribute("data-background-src");var Aq=null;if(Af==null){Aq=At}else{Aq=Af}var u=null;var Am="?"+w.domain+"/";if(Aq.indexOf(Am)===0){u=Aq.slice(1)}else{if(Aq.indexOf(Am)!=-1){var Ab=Aq.substr(Aq.indexOf(Am)).slice(1);var Ah=Ab.match(/([^\"]*)"?\)/);if(Ah!=null){u=Ah[1]}}}if(u!=null){var x=M(u,w);if(x){c({mode:"background",el:Ao[Ac],flags:x,engineSettings:Aa})}}}for(Ac=0;Ac<Ak.length;Ac++){var v=Ak[Ac];var Ap={};try{Ap.data=v.getAttribute("data");Ap.dataSrc=v.getAttribute(Q.vars.dataAttr)}catch(Aj){}var As=Ap.data!=null&&Ap.data.indexOf(w.domain)===0;var Ae=Ap.dataSrc!=null&&Ap.dataSrc.indexOf(w.domain)===0;if(As){e(w,Aa,Ap.data,v)}else{if(Ae){e(w,Aa,Ap.dataSrc,v)}}}for(Ac=0;Ac<An.length;Ac++){var Ag=An[Ac];var t={};try{t.src=Ag.getAttribute("src");t.dataSrc=Ag.getAttribute(Q.vars.dataAttr);t.rendered=Ag.getAttribute("data-holder-rendered")}catch(Aj){}var Ai=t.src!=null;var s=t.dataSrc!=null&&t.dataSrc.indexOf(w.domain)===0;var Ar=t.rendered!=null&&t.rendered=="true";if(Ai){if(t.src.indexOf(w.domain)===0){e(w,Aa,t.src,Ag)}else{if(s){if(Ar){e(w,Aa,t.dataSrc,Ag)}else{(function(Ay,Aw,Av,Au,Ax){I(Ay,function(Az){if(!Az){e(Aw,Av,Au,Ax)}})})(t.src,w,Aa,t.dataSrc,Ag)}}}}else{if(s){e(w,Aa,t.dataSrc,Ag)}}}return this}};var Q={settings:{domain:"holder.js",images:"img",objects:"object",bgnodes:"body .holderjs",stylenodes:"head link.holderjs",stylesheets:[],themes:{"gray":{background:"#EEEEEE",foreground:"#AAAAAA"},"social":{background:"#3a5a97",foreground:"#FFFFFF"},"industrial":{background:"#434A52",foreground:"#C2F200"},"sky":{background:"#0D8FDB",foreground:"#FFFFFF"},"vine":{background:"#39DBAC",foreground:"#1E292C"},"lava":{background:"#F8591A",foreground:"#1C2846"}}},defaults:{size:10,units:"pt",scale:1/16},flags:{dimensions:{regex:/^(\d+)x(\d+)$/,output:function(r){var q=this.regex.exec(r);return{width:+q[1],height:+q[2]}}},fluid:{regex:/^([0-9]+%?)x([0-9]+%?)$/,output:function(r){var q=this.regex.exec(r);return{width:q[1],height:q[2]}}},colors:{regex:/(?:#|\^)([0-9a-f]{3,})\:(?:#|\^)([0-9a-f]{3,})/i,output:function(r){var q=this.regex.exec(r);return{foreground:"#"+q[2],background:"#"+q[1]}}},text:{regex:/text\:(.*)/,output:function(q){return this.regex.exec(q)[1].replace("\\/","/")}},font:{regex:/font\:(.*)/,output:function(q){return this.regex.exec(q)[1]}},auto:{regex:/^auto$/},textmode:{regex:/textmode\:(.*)/,output:function(q){return this.regex.exec(q)[1]}},random:{regex:/^random$/},size:{regex:/size\:(\d+)/,output:function(q){return this.regex.exec(q)[1]}}}};function e(t,s,u,r){var q=M(u.substr(u.lastIndexOf(t.domain)),t);if(q){c({mode:null,el:r,flags:q,engineSettings:s})}}function M(w,q){var t={theme:P(Q.settings.themes.gray,null),stylesheets:q.stylesheets,holderURL:[]};var Ad=false;var z=String.fromCharCode(11);var Ac=w.replace(/([^\\])\//g,"$1"+z).split(z);var y=/%[0-9a-f]{2}/gi;for(var Aa=Ac.length,r=0;r<Aa;r++){var v=Ac[r];if(v.match(y)){try{v=decodeURIComponent(v)}catch(s){v=Ac[r]}}var u=false;if(Q.flags.dimensions.match(v)){Ad=true;t.dimensions=Q.flags.dimensions.output(v);u=true}else{if(Q.flags.fluid.match(v)){Ad=true;t.dimensions=Q.flags.fluid.output(v);t.fluid=true;u=true}else{if(Q.flags.textmode.match(v)){t.textmode=Q.flags.textmode.output(v);u=true}else{if(Q.flags.colors.match(v)){var x=Q.flags.colors.output(v);t.theme=P(t.theme,x);u=true}else{if(q.themes[v]){if(q.themes.hasOwnProperty(v)){t.theme=P(q.themes[v],null)}u=true}else{if(Q.flags.font.match(v)){t.font=Q.flags.font.output(v);u=true}else{if(Q.flags.auto.match(v)){t.auto=true;u=true}else{if(Q.flags.text.match(v)){t.text=Q.flags.text.output(v);u=true}else{if(Q.flags.size.match(v)){t.size=Q.flags.size.output(v);u=true}else{if(Q.flags.random.match(v)){if(Q.vars.cache.themeKeys==null){Q.vars.cache.themeKeys=Object.keys(q.themes)}var Ab=Q.vars.cache.themeKeys[0|Math.random()*Q.vars.cache.themeKeys.length];t.theme=P(q.themes[Ab],null);u=true}}}}}}}}}}if(u){t.holderURL.push(v)}}t.holderURL.unshift(q.domain);t.holderURL=t.holderURL.join("/");return Ad?t:false}function c(y){var q=y.mode;var v=y.el;var z=y.flags;var u=y.engineSettings;var Aa=z.dimensions,r=z.theme;var t=Aa.width+"x"+Aa.height;q=q==null?(z.fluid?"fluid":"image"):q;if(z.text!=null){r.text=z.text;if(v.nodeName.toLowerCase()==="object"){var x=r.text.split("\\n");for(var Ab=0;Ab<x.length;Ab++){x[Ab]=D(x[Ab])}r.text=x.join("\\n")}}var w=z.holderURL;var s=P(u,null);if(z.font){r.font=z.font;if(!s.noFontFallback&&v.nodeName.toLowerCase()==="img"&&Q.setup.supportsCanvas&&s.renderer==="svg"){s=P(s,{renderer:"canvas"})}}if(z.font&&s.renderer=="canvas"){s.reRender=true}if(q=="background"){if(v.getAttribute("data-background-src")==null){S(v,{"data-background-src":w})}}else{var Ac={};Ac[Q.vars.dataAttr]=w;S(v,Ac)}z.theme=r;v.holderData={flags:z,engineSettings:s};if(q=="image"||q=="fluid"){S(v,{"alt":(r.text?r.text+" ["+t+"]":t)})}var Ad={mode:q,el:v,holderSettings:{dimensions:Aa,theme:r,flags:z},engineSettings:s};if(q=="image"){if(s.renderer=="html"||!z.auto){v.style.width=Aa.width+"px";v.style.height=Aa.height+"px"}if(s.renderer=="html"){v.style.backgroundColor=r.background}else{Y(Ad);if(z.textmode=="exact"){v.holderData.resizeUpdate=true;Q.vars.resizableImages.push(v);g(v)}}}else{if(q=="background"&&s.renderer!="html"){Y(Ad)}else{if(q=="fluid"){v.holderData.resizeUpdate=true;if(Aa.height.slice(-1)=="%"){v.style.height=Aa.height}else{if(z.auto==null||!z.auto){v.style.height=Aa.height+"px"}}if(Aa.width.slice(-1)=="%"){v.style.width=Aa.width}else{if(z.auto==null||!z.auto){v.style.width=Aa.width+"px"}}if(v.style.display=="inline"||v.style.display===""||v.style.display=="none"){v.style.display="block"}O(v);if(s.renderer=="html"){v.style.backgroundColor=r.background}else{Q.vars.resizableImages.push(v);g(v)}}}}}function Y(x){var u=null;var q=x.mode;var y=x.holderSettings;var t=x.el;var s=x.engineSettings;switch(s.renderer){case"svg":if(!Q.setup.supportsSVG){return}break;case"canvas":if(!Q.setup.supportsCanvas){return}break;default:return}var w={width:y.dimensions.width,height:y.dimensions.height,theme:y.theme,flags:y.flags};var v=F(w);function r(){var z=null;switch(s.renderer){case"canvas":z=E(v,x);break;case"svg":z=L(v,x);break;default:throw"Holder: invalid renderer: "+s.renderer}return z}u=r();if(u==null){throw"Holder: couldn't render placeholder"}if(q=="background"){t.style.backgroundImage="url("+u+")";t.style.backgroundSize=w.width+"px "+w.height+"px"}else{if(t.nodeName.toLowerCase()==="img"){S(t,{"src":u})}else{if(t.nodeName.toLowerCase()==="object"){S(t,{"data":u});S(t,{"type":"image/svg+xml"})}}if(s.reRender){R.setTimeout(function(){var z=r();if(z==null){throw"Holder: couldn't render placeholder"}if(t.nodeName.toLowerCase()==="img"){S(t,{"src":z})}else{if(t.nodeName.toLowerCase()==="object"){S(t,{"data":z});S(t,{"type":"image/svg+xml"})}}},100)}}S(t,{"data-holder-rendered":true})}function F(r){var s=Q.defaults.size;if(parseFloat(r.theme.size)){s=r.theme.size}else{if(parseFloat(r.flags.size)){s=r.flags.size}}r.font={family:r.theme.font?r.theme.font:"Arial, Helvetica, Open Sans, sans-serif",size:l(r.width,r.height,s),units:r.theme.units?r.theme.units:Q.defaults.units,weight:r.theme.fontweight?r.theme.fontweight:"bold"};r.text=r.theme.text?r.theme.text:Math.floor(r.width)+"x"+Math.floor(r.height);switch(r.flags.textmode){case"literal":r.text=r.flags.dimensions.width+"x"+r.flags.dimensions.height;break;case"exact":if(!r.flags.exactDimensions){break}r.text=Math.floor(r.flags.exactDimensions.width)+"x"+Math.floor(r.flags.exactDimensions.height);break}var Ad=new J({width:r.width,height:r.height});var Ah=Ad.Shape;var x=new Ah.Rect("holderBg",{fill:r.theme.background});x.resize(r.width,r.height);Ad.root.add(x);var Af=new Ah.Group("holderTextGroup",{text:r.text,align:"center",font:r.font,fill:r.theme.foreground});Af.moveTo(null,null,1);Ad.root.add(Af);var w=Af.textPositionData=d(Ad);if(!w){throw"Holder: staging fallback not supported yet."}Af.properties.leading=w.boundingBox.height;var v=null;var Ac=null;function u(Ak,Al,Aj,Ai){Al.width=Aj;Al.height=Ai;Ak.width=Math.max(Ak.width,Al.width);Ak.height+=Al.height;Ak.add(Al)}if(w.lineCount>1){var y=0;var Ag=0;var Aa=r.width*Q.setup.lineWrapRatio;var t=0;Ac=new Ah.Group("line"+t);for(var z=0;z<w.words.length;z++){var Ae=w.words[z];v=new Ah.Text(Ae.text);var q=Ae.text=="\\n";if(y+Ae.width>=Aa||q===true){u(Af,Ac,y,Af.properties.leading);y=0;Ag+=Af.properties.leading;t+=1;Ac=new Ah.Group("line"+t);Ac.y=Ag}if(q===true){continue}v.moveTo(y,0);y+=w.spaceWidth+Ae.width;Ac.add(v)}u(Af,Ac,y,Af.properties.leading);for(var Ab in Af.children){Ac=Af.children[Ab];Ac.moveTo((Af.width-Ac.width)/2,null,null)}Af.moveTo((r.width-Af.width)/2,(r.height-Af.height)/2,null);if((r.height-Af.height)/2<0){Af.moveTo(null,0,null)}}else{v=new Ah.Text(r.text);Ac=new Ah.Group("line0");Ac.add(v);Af.add(Ac);Af.moveTo((r.width-w.boundingBox.width)/2,(r.height-w.boundingBox.height)/2,null)}return Ad}function l(q,v,s){var x=parseInt(q,10);var t=parseInt(v,10);var u=Math.max(x,t);var r=Math.min(x,t);var w=0.8*Math.min(r,u*Q.defaults.scale);return Math.round(Math.max(s,w))}function g(s){var u;if(s==null||s.nodeType==null){u=Q.vars.resizableImages}else{u=[s]}for(var q=0,r=u.length;q<r;q++){var t=u[q];if(t.holderData){var v=t.holderData.flags;var w=T(t);if(w){if(!t.holderData.resizeUpdate){continue}if(v.fluid&&v.auto){var x=t.holderData.fluidConfig;switch(x.mode){case"width":w.height=w.width/x.ratio;break;case"height":w.width=w.height*x.ratio;break}}var y={mode:"image",holderSettings:{dimensions:w,theme:v.theme,flags:v},el:t,engineSettings:t.holderData.engineSettings};if(v.textmode=="exact"){v.exactDimensions=w;y.holderSettings.dimensions=v.dimensions}Y(y)}else{W(t)}}}}function O(q){if(q.holderData){var r=T(q);if(r){var t=q.holderData.flags;var s={fluidHeight:t.dimensions.height.slice(-1)=="%",fluidWidth:t.dimensions.width.slice(-1)=="%",mode:null,initialDimensions:r};if(s.fluidWidth&&!s.fluidHeight){s.mode="width";s.ratio=s.initialDimensions.width/parseFloat(t.dimensions.height)}else{if(!s.fluidWidth&&s.fluidHeight){s.mode="height";s.ratio=parseFloat(t.dimensions.width)/s.initialDimensions.height}}q.holderData.fluidConfig=s}else{W(q)}}}function K(){var r=[];var s=Object.keys(Q.vars.invisibleImages);var q;for(var t=0,u=s.length;t<u;t++){q=Q.vars.invisibleImages[s[t]];if(T(q)&&q.nodeName.toLowerCase()=="img"){r.push(q);delete Q.vars.invisibleImages[s[t]]}}if(r.length){N.run({images:r})}R.requestAnimationFrame(K)}function a(){if(!Q.vars.visibilityCheckStarted){R.requestAnimationFrame(K);Q.vars.visibilityCheckStarted=true}}function W(q){if(!q.holderData.invisibleId){Q.vars.invisibleId+=1;Q.vars.invisibleImages["i"+Q.vars.invisibleId]=q;q.holderData.invisibleId=Q.vars.invisibleId}}var d=(function(){var r=null,q=null,s=null;return function(Ab){var Aa=Ab.root;if(Q.setup.supportsSVG){var v=false;var Ag=function(Aj){return document.createTextNode(Aj)};if(r==null||r.parentNode!==document.body){v=true}r=i(r,Aa.properties.width,Aa.properties.height);r.style.display="block";if(v){q=k("text",n);s=Ag(null);S(q,{x:0});q.appendChild(s);r.appendChild(q);document.body.appendChild(r);r.style.visibility="hidden";r.style.position="absolute";r.style.top="-100%";r.style.left="-100%"}var u=Aa.children.holderTextGroup;var Ae=u.properties;S(q,{"y":Ae.font.size,"style":h({"font-weight":Ae.font.weight,"font-size":Ae.font.size+Ae.font.units,"font-family":Ae.font.family})});s.nodeValue=Ae.text;var y=q.getBBox();var Ah=Math.ceil(y.width/(Aa.properties.width*Q.setup.lineWrapRatio));var t=Ae.text.split(" ");var w=Ae.text.match(/\\n/g);Ah+=w==null?0:w.length;s.nodeValue=Ae.text.replace(/[ ]+/g,"");var z=q.getComputedTextLength();var Ad=y.width-z;var Ac=Math.round(Ad/Math.max(1,t.length-1));var x=[];if(Ah>1){s.nodeValue="";for(var Ai=0;Ai<t.length;Ai++){if(t[Ai].length===0){continue}s.nodeValue=X(t[Ai]);var Af=q.getBBox();x.push({text:t[Ai],width:Af.width})}}r.style.display="none";return{spaceWidth:Ac,lineCount:Ah,boundingBox:y,words:x}}else{return false}}})();var E=(function(){var r=k("canvas");var q=null;return function(Ac){if(q==null){q=r.getContext("2d")}var z=Ac.root;r.width=Q.dpr(z.properties.width);r.height=Q.dpr(z.properties.height);q.textBaseline="middle";q.fillStyle=z.children.holderBg.properties.fill;q.fillRect(0,0,Q.dpr(z.children.holderBg.width),Q.dpr(z.children.holderBg.height));var t=z.children.holderTextGroup;var Ab=t.properties;q.font=t.properties.font.weight+" "+Q.dpr(t.properties.font.size)+t.properties.font.units+" "+t.properties.font.family+", monospace";q.fillStyle=t.properties.fill;for(var Ad in t.children){var u=t.children[Ad];for(var s in u.children){var Aa=u.children[s];var v=Q.dpr(t.x+u.x+Aa.x);var w=Q.dpr(t.y+u.y+Aa.y+(t.properties.leading/2));q.fillText(Aa.properties.text,v,w)}}return r.toDataURL("image/png")}})();var L=(function(){if(!R.XMLSerializer){return}var s=G();var q=i(null,0,0);var r=k("rect",n);q.appendChild(r);return function(Aq,Ad){var Am=Aq.root;i(q,Am.properties.width,Am.properties.height);var Ao=q.querySelectorAll("g");for(var Ar=0;Ar<Ao.length;Ar++){Ao[Ar].parentNode.removeChild(Ao[Ar])}var w=Ad.holderSettings.flags.holderURL;var Ah="holder_"+(Number(new Date())+32768+(0|Math.random()*32768)).toString(16);var Ae=k("g",n);var Aa=Am.children.holderTextGroup;var z=Aa.properties;var Ai=k("g",n);var An=Aa.textPositionData;var Ak="#"+Ah+" text { "+h({"fill":z.fill,"font-weight":z.font.weight,"font-family":z.font.family+", monospace","font-size":z.font.size+z.font.units})+" } ";var v=s.createComment("\nSource URL: "+w+j);var t=s.createCDATASection(Ak);var Af=q.querySelector("style");S(Ae,{id:Ah});q.insertBefore(v,q.firstChild);Af.appendChild(t);Ae.appendChild(r);Ae.appendChild(Ai);q.appendChild(Ae);S(r,{"width":Am.children.holderBg.width,"height":Am.children.holderBg.height,"fill":Am.children.holderBg.properties.fill});Aa.y+=An.boundingBox.height*0.8;for(var u in Aa.children){var Ap=Aa.children[u];for(var Ag in Ap.children){var As=Ap.children[Ag];var At=Aa.x+Ap.x+As.x;var Ac=Aa.y+Ap.y+As.y;var Al=k("text",n);var Aj=document.createTextNode(null);S(Al,{"x":At,"y":Ac});Aj.nodeValue=As.properties.text;Al.appendChild(Aj);Ai.appendChild(Al)}}var Ab="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(V(q,Ad.engineSettings))));return Ab}})();function k(r,q){if(q==null){return document.createElement(r)}else{return document.createElementNS(q,r)}}function S(r,q){for(var s in q){r.setAttribute(s,q[s])}}function i(q,r,s){var v,u;if(q==null){q=k("svg",n);v=k("defs",n);u=k("style",n);S(u,{"type":"text/css"});v.appendChild(u);q.appendChild(v)}else{u=q.querySelector("style")}if(q.webkitMatchesSelector){q.setAttribute("xmlns",n)}for(var t=0;t<q.childNodes.length;t++){if(q.childNodes[t].nodeType===m){q.removeChild(q.childNodes[t])}}while(u.childNodes.length){u.removeChild(u.childNodes[0])}S(q,{"width":r,"height":s,"viewBox":"0 0 "+r+" "+s,"preserveAspectRatio":"none"});return q}function V(z,s){if(!R.XMLSerializer){return}var w=new XMLSerializer();var t="";var u=s.stylesheets;if(s.svgXMLStylesheet){var r=G();for(var q=u.length-1;q>=0;q--){var x=r.createProcessingInstruction("xml-stylesheet",'href="'+u[q]+'" rel="stylesheet"');r.insertBefore(x,r.firstChild)}var v=r.createProcessingInstruction("xml",'version="1.0" encoding="UTF-8" standalone="yes"');r.insertBefore(v,r.firstChild);r.removeChild(r.documentElement);t=w.serializeToString(r)}var y=w.serializeToString(z);y=y.replace(/\&amp;(\#[0-9]{2,}\;)/g,"&$1");return t+y}function G(){if(!R.DOMParser){return}return new DOMParser().parseFromString("<xml />","application/xml")}function Z(q){if(!Q.vars.debounceTimer){q.call(this)}if(Q.vars.debounceTimer){R.clearTimeout(Q.vars.debounceTimer)}Q.vars.debounceTimer=R.setTimeout(function(){Q.vars.debounceTimer=null;q.call(this)},Q.setup.debounce)}function b(){Z(function(){g(null)})}for(var f in Q.flags){if(!Q.flags.hasOwnProperty(f)){continue}Q.flags[f].match=function(q){return q.match(this.regex)}}Q.setup={renderer:"html",debounce:100,ratio:1,supportsCanvas:false,supportsSVG:false,lineWrapRatio:0.9,renderers:["html","canvas","svg"]};Q.dpr=function(q){return q*Q.setup.ratio};Q.vars={preempted:false,resizableImages:[],invisibleImages:{},invisibleId:0,visibilityCheckStarted:false,debounceTimer:null,cache:{},dataAttr:"data-src"};(function(){var s=1,q=1;var t=k("canvas");var r=null;if(t.getContext){if(t.toDataURL("image/png").indexOf("data:image/png")!=-1){Q.setup.renderer="canvas";r=t.getContext("2d");Q.setup.supportsCanvas=true}}if(Q.setup.supportsCanvas){s=R.devicePixelRatio||1;q=r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1}Q.setup.ratio=s/q;if(!!document.createElementNS&&!!document.createElementNS(n,"svg").createSVGRect){Q.setup.renderer="svg";Q.setup.supportsSVG=true}})();a();if(o){o(function(){if(!Q.vars.preempted){N.run()}if(R.addEventListener){R.addEventListener("resize",b,false);R.addEventListener("orientationchange",b,false)}else{R.attachEvent("onresize",b)}if(typeof R.Turbolinks=="object"){R.document.addEventListener("page:change",function(){N.run()})}})}A.exports=N}.call(B,(function(){return this}())))},function(B,C,D){
/*
	 * onDomReady.js 1.4.0 (c) 2013 Tubal Martin - MIT license
	 *
	 * Specially modified to work with Holder.js
	 */
function A(N){if(document.readyState==null&&document.addEventListener){document.addEventListener("DOMContentLoaded",function U(){document.removeEventListener("DOMContentLoaded",U,false);document.readyState="complete"},false);document.readyState="loading"}var I=N.document,R=I.documentElement,O="load",Q=false,W="on"+O,L="complete",K="readyState",a="attachEvent",H="detachEvent",c="addEventListener",J="DOMContentLoaded",E="onreadystatechange",P="removeEventListener",Y=c in I,M=Q,T=Q,F=[];function b(e){if(!T){if(!I.body){return X(b)}T=true;while(e=F.shift()){X(e)}}}function V(e){if(Y||e.type===O||I[K]===L){Z();b()}}function Z(){if(Y){I[P](J,V,Q);N[P](O,V,Q)}else{I[H](E,V);N[H](W,V)}}function X(e,f){setTimeout(e,+f>=0?f:1)}if(I[K]===L){X(b)}else{if(Y){I[c](J,V,Q);N[c](O,V,Q)}else{I[a](E,V);N[a](W,V);try{M=N.frameElement==null&&R}catch(d){}if(M&&M.doScroll){(function S(){if(!T){try{M.doScroll("left")}catch(f){return X(S,50)}Z();b()}})()}}}function G(e){T?X(e):F.push(e)}G.version="1.4.0";G.isReady=function(){return T};return G}B.exports=typeof window!=="undefined"&&A(window)},function(A,C,E){var D=E(4);var B=function(J){var L=1;function G(M,N){for(var O in N){M[O]=N[O]}return M}var I=D.defclass({constructor:function(M){L++;this.parent=null;this.children={};this.id=L;this.name="n"+L;if(M!=null){this.name=M}this.x=0;this.y=0;this.z=0;this.width=0;this.height=0},resize:function(N,M){if(N!=null){this.width=N}if(M!=null){this.height=M}},moveTo:function(M,N,O){this.x=M!=null?M:this.x;this.y=N!=null?N:this.y;this.z=O!=null?O:this.z},add:function(N){var M=N.name;if(this.children[M]==null){this.children[M]=N;N.parent=this}else{throw"SceneGraph: child with that name already exists: "+M}}});var F=D(I,function(M){this.constructor=function(){M.constructor.call(this,"root");this.properties=J}});var H=D(I,function(M){function N(P,O){M.constructor.call(this,P);this.properties={fill:"#000"};if(O!=null){G(this.properties,O)}else{if(P!=null&&typeof P!=="string"){throw"SceneGraph: invalid node name"}}}this.Group=D.extend(this,{constructor:N,type:"group"});this.Rect=D.extend(this,{constructor:N,type:"rect"});this.Text=D.extend(this,{constructor:function(O){N.call(this);this.properties.text=O},type:"text"})});var K=new F();this.Shape=H;this.root=K;return this};A.exports=B},function(A,B,C){(function(D){B.extend=function(G,H){var I={};for(var E in G){if(G.hasOwnProperty(E)){I[E]=G[E]}}if(H!=null){for(var F in H){if(H.hasOwnProperty(F)){I[F]=H[F]}}}return I};B.cssProps=function(E){var G=[];for(var F in E){if(E.hasOwnProperty(F)){G.push(F+":"+E[F])}}return G.join(";")};B.encodeHtmlEntity=function(G){var F=[];var E=0;for(var H=G.length-1;H>=0;H--){E=G.charCodeAt(H);if(E>128){F.unshift(["&#",E,";"].join(""))}else{F.unshift(G[H])}}return F.join("")};B.getNodeArray=function(F){var E=null;if(typeof(F)=="string"){E=document.querySelectorAll(F)}else{if(D.NodeList&&F instanceof D.NodeList){E=F}else{if(D.Node&&F instanceof D.Node){E=[F]}else{if(D.HTMLCollection&&F instanceof D.HTMLCollection){E=F}else{if(F instanceof Array){E=F}else{if(F===null){E=[]}}}}}}return E};B.imageExists=function(G,E){var F=new Image();F.onerror=function(){E.call(this,false)};F.onload=function(){E.call(this,true)};F.src=G};B.decodeHtmlEntity=function(E){return E.replace(/&#(\d+);/g,function(G,F){return String.fromCharCode(F)})};B.dimensionCheck=function(E){var F={height:E.clientHeight,width:E.clientWidth};if(F.height&&F.width){return F}else{return false}}}.call(B,(function(){return this}())))},function(B,D,F){var A=function(){};var C=Array.prototype.slice;var E=function(H,G){var K=A.prototype=typeof H==="function"?H.prototype:H;var L=new A(),J=G.apply(L,C.call(arguments,2).concat(K));if(typeof J==="object"){for(var I in J){L[I]=J[I]}}if(!L.hasOwnProperty("constructor")){return L}var M=L.constructor;M.prototype=L;return M};E.defclass=function(H){var G=H.constructor;G.prototype=H;return G};E.extend=function(H,G){return E(H,function(I){this.uber=I;return G})};B.exports=E}])});