function Swipe(E,J){var G=function(){};var P=function(c){setTimeout(c||G,0)};var a={addEventListener:!!window.addEventListener,touch:("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch,transitions:(function(d){var c=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var e in c){if(d.style[c[e]]!==undefined){return true}}return false})(document.createElement("swipe"))};if(!E){return}var Y=E.children[0];var S,T,M,b;J=J||{};var B=parseInt(J.startSlide,10)||0;var Q=J.speed||300;J.continuous=J.continuous!==undefined?J.continuous:true;function A(){S=Y.children;b=S.length;if(S.length<2){J.continuous=false}if(a.transitions&&J.continuous&&S.length<3){Y.appendChild(S[0].cloneNode(true));Y.appendChild(Y.children[1].cloneNode(true));S=Y.children}T=new Array(S.length);M=E.getBoundingClientRect().width||E.offsetWidth;Y.style.width=(S.length*M)+"px";var d=S.length;while(d--){var c=S[d];c.style.width=M+"px";c.setAttribute("data-index",d);if(a.transitions){c.style.left=(d*-M)+"px";K(d,B>d?-M:(B<d?M:0),0)}}if(J.continuous&&a.transitions){K(R(B-1),-M,0);K(R(B+1),M,0)}if(!a.transitions){Y.style.left=(B*-M)+"px"}E.style.visibility="visible"}function D(){if(J.continuous){F(B-1)}else{if(B){F(B-1)}}}function U(){if(J.continuous){F(B+1)}else{if(B<S.length-1){F(B+1)}}}function R(c){return(S.length+(c%S.length))%S.length}function F(d,f){if(B==d){return}if(a.transitions){var e=Math.abs(B-d)/(B-d);if(J.continuous){var c=e;e=-T[R(d)]/M;if(e!==c){d=-e*S.length+d}}var g=Math.abs(B-d)-1;while(g--){K(R((d>B?d:B)-g-1),M*e,0)}d=R(d);K(B,M*e,f||Q);K(d,0,f||Q);if(J.continuous){K(R(d-e),-(M*e),0)}}else{d=R(d);W(B*-M,d*-M,f||Q)}B=d;P(J.callback&&J.callback(B,S[B]))}function K(e,c,d){O(e,c,d);T[e]=c}function O(g,d,f){var c=S[g];var e=c&&c.style;if(!e){return}e.webkitTransitionDuration=e.MozTransitionDuration=e.msTransitionDuration=e.OTransitionDuration=e.transitionDuration=f+"ms";e.webkitTransform="translate("+d+"px,0)translateZ(0)";e.msTransform=e.MozTransform=e.OTransform="translateX("+d+"px)"}function W(c,d,f){if(!f){Y.style.left=d+"px";return}var e=+new Date;var g=setInterval(function(){var h=+new Date-e;if(h>f){Y.style.left=d+"px";if(L){V()}J.transitionEnd&&J.transitionEnd.call(event,B,S[B]);clearInterval(g);return}Y.style.left=(((d-c)*(Math.floor((h/f)*100)/100))+c)+"px"},4)}var L=J.auto||0;var C;function V(){C=setTimeout(U,L)}function X(){L=J.auto>0?J.auto:0;clearTimeout(C)}var Z={};var H={};var I;var N={handleEvent:function(c){switch(c.type){case"touchstart":this.start(c);break;case"touchmove":this.move(c);break;case"touchend":P(this.end(c));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":P(this.transitionEnd(c));break;case"resize":P(A);break}if(J.stopPropagation){c.stopPropagation()}},start:function(c){var d=c.touches[0];Z={x:d.pageX,y:d.pageY,time:+new Date};I=undefined;H={};Y.addEventListener("touchmove",this,false);Y.addEventListener("touchend",this,false)},move:function(c){if(c.touches.length>1||c.scale&&c.scale!==1){return}if(J.disableScroll){c.preventDefault()}var d=c.touches[0];H={x:d.pageX-Z.x,y:d.pageY-Z.y};if(typeof I=="undefined"){I=!!(I||Math.abs(H.x)<Math.abs(H.y))}if(!I){c.preventDefault();X();if(J.continuous){O(R(B-1),H.x+T[R(B-1)],0);O(B,H.x+T[B],0);O(R(B+1),H.x+T[R(B+1)],0)}else{H.x=H.x/((!B&&H.x>0||B==S.length-1&&H.x<0)?(Math.abs(H.x)/M+1):1);O(B-1,H.x+T[B-1],0);O(B,H.x+T[B],0);O(B+1,H.x+T[B+1],0)}}},end:function(d){var g=+new Date-Z.time;var e=Number(g)<250&&Math.abs(H.x)>20||Math.abs(H.x)>M/2;var f=!B&&H.x>0||B==S.length-1&&H.x<0;if(J.continuous){f=false}var c=H.x<0;if(!I){if(e&&!f){if(c){if(J.continuous){K(R(B-1),-M,0);K(R(B+2),M,0)}else{K(B-1,-M,0)}K(B,T[B]-M,Q);K(R(B+1),T[R(B+1)]-M,Q);B=R(B+1)}else{if(J.continuous){K(R(B+1),M,0);K(R(B-2),-M,0)}else{K(B+1,M,0)}K(B,T[B]+M,Q);K(R(B-1),T[R(B-1)]+M,Q);B=R(B-1)}J.callback&&J.callback(B,S[B])}else{if(J.continuous){K(R(B-1),-M,Q);K(B,0,Q);K(R(B+1),M,Q)}else{K(B-1,-M,Q);K(B,0,Q);K(B+1,M,Q)}}}Y.removeEventListener("touchmove",N,false);Y.removeEventListener("touchend",N,false)},transitionEnd:function(c){if(parseInt(c.target.getAttribute("data-index"),10)==B){if(L){V()}J.transitionEnd&&J.transitionEnd.call(c,B,S[B])}}};A();if(L){V()}if(a.addEventListener){if(a.touch){Y.addEventListener("touchstart",N,false)}if(a.transitions){Y.addEventListener("webkitTransitionEnd",N,false);Y.addEventListener("msTransitionEnd",N,false);Y.addEventListener("oTransitionEnd",N,false);Y.addEventListener("otransitionend",N,false);Y.addEventListener("transitionend",N,false)}window.addEventListener("resize",N,false)}else{window.onresize=function(){A()}}return{setup:function(){A()},slide:function(c,d){X();F(c,d)},prev:function(){X();D()},next:function(){X();U()},stop:function(){X()},getPos:function(){return B},getNumSlides:function(){return b},kill:function(){X();Y.style.width="";Y.style.left="";var d=S.length;while(d--){var c=S[d];c.style.width="";c.style.left="";if(a.transitions){O(d,0,0)}}if(a.addEventListener){Y.removeEventListener("touchstart",N,false);Y.removeEventListener("webkitTransitionEnd",N,false);Y.removeEventListener("msTransitionEnd",N,false);Y.removeEventListener("oTransitionEnd",N,false);Y.removeEventListener("otransitionend",N,false);Y.removeEventListener("transitionend",N,false);window.removeEventListener("resize",N,false)}else{window.onresize=null}}}}if(window.jQuery||window.Zepto){(function(A){A.fn.Swipe=function(B){return this.each(function(){A(this).data("Swipe",new Swipe(A(this)[0],B))})}})(window.jQuery||window.Zepto)};